<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√≥c H·ªçc T·∫≠p C·ªßa Nguy√™n ‚òÅÔ∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #E0F7FA;
            --card-bg: #FFFFFF;
            --primary: #4DD0E1;
            --secondary: #FF8A65;
            --text-main: #455A64;
            --shadow-light: -8px -8px 20px #FFFFFF;
            --shadow-dark: 8px 8px 20px #B0BEC5;
            --accent: #FFD54F;
        }

        body.dark-mode {
            --bg-color: #1a1a2e;
            --card-bg: #16213e;
            --primary: #0f3460;
            --secondary: #e94560;
            --text-main: #eaeaea;
            --shadow-light: -5px -5px 15px #252a40;
            --shadow-dark: 5px 5px 15px #0a0a12;
            --accent: #fcd581;
        }

        * { box-sizing: border-box; transition: all 0.4s ease; }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1, h2, h3 { font-family: 'Mali', cursive; margin: 0; }

        .card {
            background: var(--card-bg);
            border-radius: 30px;
            box-shadow: var(--shadow-dark), var(--shadow-light);
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid rgba(255,255,255,0.1);
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 25px;
        }

        @media (max-width: 768px) { .container { grid-template-columns: 1fr; } }

        /* --- SIDEBAR --- */
        .sidebar { display: flex; flex-direction: column; gap: 20px; }

        .mascot-card { text-align: center; position: relative; overflow: hidden; }
        .mascot-emoji { font-size: 5rem; animation: bounce 2s infinite ease-in-out; display: inline-block; margin-bottom: 10px; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        .bubble {
            background: var(--secondary); color: white; padding: 10px 20px; border-radius: 20px;
            position: relative; font-weight: bold; display: inline-block; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .bubble::after {
            content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%);
            border-width: 8px 8px 0; border-style: solid; border-color: var(--secondary) transparent transparent transparent;
        }

        /* --- MUSIC PLAYER STYLES --- */
        .music-player {
            display: flex; flex-direction: column; align-items: center; gap: 10px;
        }
        .song-info { text-align: center; width: 100%; overflow: hidden; white-space: nowrap; }
        .song-title { font-weight: bold; font-size: 1.1rem; color: var(--secondary); margin-bottom: 5px; }
        .music-controls { display: flex; align-items: center; gap: 15px; margin-top: 10px; }
        
        .control-btn {
            background: var(--bg-color); border: none; width: 40px; height: 40px; border-radius: 50%;
            box-shadow: 5px 5px 10px rgba(0,0,0,0.1), -5px -5px 10px rgba(255,255,255,0.5);
            color: var(--text-main); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
        }
        .control-btn:active { box-shadow: inset 5px 5px 10px rgba(0,0,0,0.1), inset -5px -5px 10px rgba(255,255,255,0.5); }
        .play-btn { width: 50px; height: 50px; color: var(--secondary); font-size: 1.5rem; }

        .progress-container {
            width: 100%; height: 6px; background: rgba(0,0,0,0.05); border-radius: 5px; margin-top: 10px; cursor: pointer; overflow: hidden;
        }
        .progress-bar { height: 100%; width: 0%; background: var(--secondary); border-radius: 5px; }
        
        /* Music Wave Animation */
        .music-wave { display: flex; gap: 3px; height: 15px; align-items: flex-end; justify-content: center; margin-top: 5px; opacity: 0; transition: opacity 0.3s;}
        .bar { width: 4px; background: var(--secondary); animation: wave 1s infinite ease-in-out; border-radius: 2px;}
        .playing .music-wave { opacity: 1; }
        .bar:nth-child(1) { animation-delay: 0.1s; height: 6px; }
        .bar:nth-child(2) { animation-delay: 0.3s; height: 10px; }
        .bar:nth-child(3) { animation-delay: 0.5s; height: 8px; }
        .bar:nth-child(4) { animation-delay: 0.2s; height: 12px; }
        @keyframes wave { 0%, 100% { height: 5px; } 50% { height: 15px; } }

        /* --- RIGHT SIDE --- */
        .schedule-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .day-badge { background: var(--accent); color: #444; padding: 5px 15px; border-radius: 20px; font-weight: 800; font-size: 0.9rem; }
        
        .timeline { list-style: none; padding: 0; max-height: 500px; overflow-y: auto; }
        .timeline li {
            background: rgba(255,255,255,0.5); margin-bottom: 12px; padding: 15px; border-radius: 15px;
            display: flex; align-items: center; border-left: 5px solid transparent;
        }
        body.dark-mode .timeline li { background: rgba(255,255,255,0.05); }
        .timeline li.active {
            border-left: 5px solid var(--secondary); background: rgba(255, 138, 101, 0.1); transform: scale(1.02); font-weight: bold;
        }
        .time-slot { font-weight: 800; margin-right: 15px; min-width: 80px; color: var(--primary); }

        .theme-switch { position: fixed; top: 20px; right: 20px; background: var(--card-bg); padding: 10px; border-radius: 50%; cursor: pointer; box-shadow: var(--shadow-dark); z-index: 100; }
        
        /* Pomodoro */
        .timer-box h3 { margin-bottom: 10px; }
        .time-big { font-size: 3rem; font-weight: 900; color: var(--secondary); font-family: 'Mali', cursive; }
        .btn {
            background: var(--bg-color); border: none; padding: 8px 18px; border-radius: 12px;
            box-shadow: 5px 5px 10px rgba(0,0,0,0.1), -5px -5px 10px rgba(255,255,255,0.5);
            font-weight: bold; color: var(--text-main); cursor: pointer; margin: 5px;
        }
        .btn:active { box-shadow: inset 3px 3px 6px rgba(0,0,0,0.1), inset -3px -3px 6px rgba(255,255,255,0.5); }

    </style>
</head>
<body>

    <div class="theme-switch" onclick="toggleTheme()">üåô</div>

    <div class="container">
        <div class="sidebar">
            <div class="card mascot-card">
                <div class="bubble" id="mascot-msg">Ch√†o Nguy√™n!</div>
                <div class="mascot-emoji" id="mascot-face">üê±</div>
                <h3 id="clock" style="margin-top: 10px;">00:00</h3>
                <p style="font-size: 0.9rem; opacity: 0.7;" id="date-display">...</p>
            </div>

            <div class="card music-player" id="music-card">
                <div class="song-info">
                    <div class="song-title" id="song-title">Ch·ªçn nh·∫°c ƒëi...</div>
                    <div class="music-wave">
                        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                    </div>
                </div>
                
                <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>

                <div class="music-controls">
                    <button class="control-btn" onclick="prevSong()">‚èÆ</button>
                    <button class="control-btn play-btn" onclick="playPauseSong()" id="play-btn">‚ñ∂</button>
                    <button class="control-btn" onclick="nextSong()">‚è≠</button>
                </div>
                
                <audio id="audio" src=""></audio>
            </div>

            <div class="card timer-box">
                <h3>üçÖ Pomodoro</h3>
                <div class="time-big" id="pomo-timer">25:00</div>
                <div>
                    <button class="btn" style="color:var(--secondary)" onclick="startPomo()">Start</button>
                    <button class="btn" onclick="resetPomo()">Reset</button>
                </div>
            </div>
        </div>

        <div class="card schedule-card">
            <div class="schedule-header">
                <h2>L·ªãch Tr√¨nh H√¥m Nay</h2>
                <span class="day-badge" id="today-badge">Ch·ªß Nh·∫≠t</span>
            </div>
            <ul class="timeline" id="timeline-list"></ul>
        </div>
    </div>

    <script>
        // --- 1. C·∫§U H√åNH NH·∫†C C·ª¶A NGUY√äN ---
        // B·∫°n thay link nh·∫°c mp3 online ho·∫∑c t√™n file trong m√°y v√†o ƒë√¢y nh√©
        const myPlaylist = [
            {
                title: "Lofi Chill Study",
                src: "https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112191.mp3" 
            },
            {
                title: "Are You Lost?",
                src: "https://dl.dropboxusercontent.com/scl/fi/77g1sd85t8gyygskp7vnq/Are-You-Lost.mp3?rlkey=73lef1of7b4ob9x2j3frf37bs&st=dhx5rfou&dl=0"
            },
            {
                title: "Aesthetic Girl",
                src: "https://dl.dropboxusercontent.com/scl/fi/blyieh8jbxu7zaznpyda6/Aesthetic-Gir.mp3?rlkey=am1novg1rfb88nb20lab0wgfy&st=194m5cta&dl=0"
            },
		
	    {
		title: "Be mine just mine",
		src: "https://dl.dropboxusercontent.com/scl/fi/1uumdmyklgj3in4yd0yov/be-mine-just-mine.mp3?rlkey=0m3owtkke0evy72dpjjck3cwg&st=5q0shpiy&dl=0"
	    },
	    {
		title: "Rain",
		src: "https://dl.dropboxusercontent.com/scl/fi/c100p7gm7e27c80httouk/Rain.mp3?rlkey=z5wnv9dmt6c53vyuwvqtewcdu&st=7ivxz1zi&dl=0"
	    }
        ];

        // --- 2. LOGIC MUSIC PLAYER ---
        let currentSongIndex = 0;
        const audio = document.getElementById('audio');
        const playBtn = document.getElementById('play-btn');
        const songTitle = document.getElementById('song-title');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const musicCard = document.getElementById('music-card');

        function loadSong(song) {
            songTitle.innerText = song.title;
            audio.src = song.src;
        }

        function playPauseSong() {
            if (audio.paused) {
                audio.play();
                playBtn.innerText = "‚è∏";
                musicCard.classList.add('playing');
            } else {
                audio.pause();
                playBtn.innerText = "‚ñ∂";
                musicCard.classList.remove('playing');
            }
        }

        function prevSong() {
            currentSongIndex--;
            if (currentSongIndex < 0) currentSongIndex = myPlaylist.length - 1;
            loadSong(myPlaylist[currentSongIndex]);
            audio.play();
            playBtn.innerText = "‚è∏";
            musicCard.classList.add('playing');
        }

        function nextSong() {
            currentSongIndex++;
            if (currentSongIndex > myPlaylist.length - 1) currentSongIndex = 0;
            loadSong(myPlaylist[currentSongIndex]);
            audio.play();
            playBtn.innerText = "‚è∏";
            musicCard.classList.add('playing');
        }

        // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh
        audio.addEventListener('timeupdate', (e) => {
            const { duration, currentTime } = e.srcElement;
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
        });

        // Tua nh·∫°c khi click thanh ti·∫øn tr√¨nh
        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        });

        // T·ª± chuy·ªÉn b√†i khi h·∫øt
        audio.addEventListener('ended', nextSong);

        // Load b√†i ƒë·∫ßu ti√™n
        loadSong(myPlaylist[currentSongIndex]);


        // --- 3. D·ªÆ LI·ªÜU L·ªäCH (ƒê√£ gi·ªØ nguy√™n) ---
        const scheduleData = {
            1: [ 
                { time: "S√°ng 1-2", task: "SHTT & TNHN", icon: "üè´" },
                { time: "S√°ng 3-4", task: "Ti·∫øng Anh & To√°n", icon: "üìö" },
                { time: "11:30", task: "ƒÇn tr∆∞a & Ngh·ªâ ng∆°i", icon: "üç±" },
                { time: "13:45", task: "D·∫≠y! GDTC & Ng·ªØ VƒÉn", icon: "‚öΩ" },
                { time: "16:00", task: "H·ªçc tr√™n tr∆∞·ªùng (Chi·ªÅu 4)", icon: "üè´" },
                { time: "19:00", task: "Th·ªùi gian t·ª± do", icon: "üéÆ" },
                { time: "20:00", task: "V·ªÅ nh√† & T·ª± h·ªçc", icon: "üè†" }
            ],
            2: [
                { time: "S√°ng 1-2", task: "Ng·ªØ vƒÉn & Ti·∫øng Anh", icon: "üìñ" },
                { time: "S√°ng 3-4", task: "To√°n & GDTC", icon: "üìê" },
                { time: "11:30", task: "ƒÇn tr∆∞a", icon: "üç±" },
                { time: "13:45", task: "Ti·∫øng Anh & V·∫≠t L√Ω", icon: "‚ö°" },
                { time: "19:30", task: "ƒÇn u·ªëng & H·ªçc b√†i", icon: "üçú" }
            ],
            3: [
                { time: "S√°ng 1-2", task: "Ng·ªØ vƒÉn & H√≥a h·ªçc", icon: "üß™" },
                { time: "S√°ng 3-4", task: "H√≥a h·ªçc & L·ªãch s·ª≠", icon: "‚öóÔ∏è" },
                { time: "14:00", task: "To√°n & H√≥a h·ªçc", icon: "üìù" },
                { time: "20:15", task: "Ng·ªìi h·ªçc (T·ªëi)", icon: "üí°" }
            ],
            4: [
                { time: "S√°ng 1-2", task: "Tin h·ªçc", icon: "üíª" },
                { time: "S√°ng 3-4", task: "V·∫≠t l√≠ & L·ªãch s·ª≠", icon: "‚ö°" },
                { time: "Chi·ªÅu", task: "To√°n & Ng·ªØ vƒÉn", icon: "üìö" },
                { time: "T·ªëi", task: "V·ªÅ nh√† & ƒÇn u·ªëng", icon: "üè†" }
            ],
            5: [
                { time: "S√°ng 1-2", task: "Sinh h·ªçc", icon: "üå±" },
                { time: "S√°ng 3-4", task: "TNHN & V·∫≠t l√≠", icon: "üî≠" },
                { time: "15:00", task: "V·∫≠t l√≠ (Chi·ªÅu 2)", icon: "‚öõÔ∏è" },
                { time: "16:00", task: "Ti·∫øng Trung", icon: "üá®üá≥" }
            ],
            6: [
                { time: "S√°ng 1-2", task: "Ti·∫øng Anh", icon: "üá¨üáß" },
                { time: "S√°ng 3-4", task: "H·ªçc tr√™n tr∆∞·ªùng", icon: "üè´" },
                { time: "Chi·ªÅu", task: "Th·ªùi gian t·ª± do", icon: "üéÆ" },
                { time: "T·ªëi", task: "√în t·∫≠p tu·∫ßn", icon: "üìù" }
            ],
            0: [
                { time: "7:30", task: "Ng·ªß d·∫≠y & V·ªá sinh", icon: "‚òÄÔ∏è" },
                { time: "8:30", task: "ƒÇn s√°ng & T·ª± do", icon: "‚òï" },
                { time: "9:00", task: "Ng·ªìi h·ªçc (Pomodoro)", icon: "üçÖ" },
                { time: "12:45", task: "Ng·ªß tr∆∞a", icon: "üò¥" },
                { time: "14:00", task: "Ng·ªìi h·ªçc & Ti·∫øng Trung", icon: "üá®üá≥" },
                { time: "T·ªëi", task: "So·∫°n b√†i & Ng·ªß s·ªõm", icon: "üåô" }
            ]
        };

        const days = ['Ch·ªß Nh·∫≠t', 'Th·ª© Hai', 'Th·ª© Ba', 'Th·ª© T∆∞', 'Th·ª© NƒÉm', 'Th·ª© S√°u', 'Th·ª© B·∫£y'];
        
        function init() {
            updateTime();
            renderSchedule();
            setInterval(updateTime, 1000);
        }

        function updateTime() {
            const now = new Date();
            const h = now.getHours().toString().padStart(2, '0');
            const m = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('clock').innerText = `${h}:${m}`;
            document.getElementById('date-display').innerText = `${days[now.getDay()]}, ${now.getDate()}/${now.getMonth()+1}`;
            
            const mascot = document.getElementById('mascot-face');
            const msg = document.getElementById('mascot-msg');
            const hour = now.getHours();

            if (hour >= 23 || hour < 6) {
                mascot.innerText = "üò¥"; msg.innerText = "Ng·ªß th√¥i...";
            } else if (hour >= 11 && hour <= 13) {
                mascot.innerText = "üòã"; msg.innerText = "ƒê√≥i b·ª•ng qu√°...";
            } else if ((hour >= 7 && hour <= 11) || (hour >= 14 && hour <= 17)) {
                mascot.innerText = "ü§ì"; msg.innerText = "T·∫≠p trung!";
            } else {
                mascot.innerText = "üê±"; msg.innerText = "Chill...";
            }
        }

        function renderSchedule() {
            const todayIndex = new Date().getDay();
            const todaySchedule = scheduleData[todayIndex];
            const list = document.getElementById('timeline-list');
            const badge = document.getElementById('today-badge');
            
            badge.innerText = days[todayIndex];
            list.innerHTML = "";

            if(!todaySchedule) { list.innerHTML = "<li>Ngh·ªâ ng∆°i!</li>"; return; }

            const currentHour = new Date().getHours();
            todaySchedule.forEach((item) => {
                const li = document.createElement('li');
                let isActive = false;
                if (item.time.includes(currentHour.toString())) isActive = true;
                if (isActive) li.classList.add('active');
                li.innerHTML = `<div class="time-slot">${item.time}</div><div style="flex-grow: 1;"><div style="font-weight:bold;">${item.task}</div></div><div style="font-size: 1.5rem;">${item.icon}</div>`;
                list.appendChild(li);
            });
        }

        // --- POMODORO ---
        let timer; let timeLeft = 25 * 60; let isRunning = false;
        function startPomo() {
            if (isRunning) return;
            isRunning = true;
            timer = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
                    const s = (timeLeft % 60).toString().padStart(2, '0');
                    document.getElementById('pomo-timer').innerText = `${m}:${s}`;
                } else {
                    clearInterval(timer); alert("Xong!"); isRunning = false;
                }
            }, 1000);
        }
        function resetPomo() { clearInterval(timer); isRunning = false; timeLeft = 25 * 60; document.getElementById('pomo-timer').innerText = "25:00"; }

        function toggleTheme() { document.body.classList.toggle('dark-mode'); }

        init();
    </script>
</body>
</html>